<!doctype html>
<html >
<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!--[if lt IE 9]>
                <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
        <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />

    <link href="https://fonts.googleapis.com/css?family=Domine|Montserrat" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" type="text/css" href="template.css" /> -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/template.css" />

    <link href="https://vjs.zencdn.net/5.4.4/video-js.css" rel="stylesheet" />

    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <!-- <script type='text/javascript' src='menu/js/jquery.cookie.js'></script> -->
    <!-- <script type='text/javascript' src='menu/js/jquery.hoverIntent.minified.js'></script> -->
    <!-- <script type='text/javascript' src='menu/js/jquery.dcjqaccordion.2.7.min.js'></script> -->
    <!-- <link href="menu/css/skins/blue.css" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="menu/css/skins/graphite.css" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="menu/css/skins/grey.css" rel="stylesheet" type="text/css" /> -->
    <!-- <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
    <!-- <script src="script.js"></script> -->
    <!-- <script src="jquery.sticky-kit.js "></script> -->
    <script type='text/javascript' src='https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/js/jquery.cookie.js'></script>
    <script type='text/javascript' src='https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/js/jquery.hoverIntent.minified.js'></script>
    <script type='text/javascript' src='https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/js/jquery.dcjqaccordion.2.7.min.js'></script>

    <link href="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/css/skins/blue.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/css/skins/graphite.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/menu/css/skins/grey.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/gh/ryangrose/easy-pandoc-templates@948e28e5/css/elegant_bootstrap.css" rel="stylesheet" type="text/css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script src="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/script.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/diversen/pandoc-bootstrap-adaptive-template@959c3622/jquery.sticky-kit.js"></script>
    <meta name="generator" content="pandoc" />
  <meta name="author" content="Christopher Di Bella" />
  <meta name="date" content="2022-12-30" />
  <title>Applied Modern C++</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">body { font-family: Domine, Georgia, Palatino, 'Palatino Linotype', Times, 'Times New Roman', serif} h1, h2, h3, h4, h5, h6 { font-family: Montserrat, sans }</style>
  <style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="style.css" />
  <meta name="keywords" content="C++, cplusplus, cpp, cxx" />
  <meta name="description" content="Introduces the reader to their first C++ programs." />
</head>
<body>


    <div class="navbar navbar-static-top navbar-expand-sm px-0 pt-0">
    <div class="navbar-inner container-fluid">
      <div class="container">
        <span class="doc-title">Applied Modern C++</span>
        <ul class="nav pull-right doc-info">
                    <li><p class="navbar-text">Christopher Di Bella</p></li>
                              <li><p class="navbar-text">2022-12-30</p></li>
                  </ul>
      </div>
    </div>
  </div>
  <div class="container">
      <div class="row">
            <div class="col-12">

      
      <h1 id="chapter-2-hello-c">Chapter 2: Hello, C++!</h1>
<p>This chapter gives you a sample of C++ so that you can ease into both your initial development environment, and into your new programming language. We’re going to write two very simple C++ programs and take a look at what Compiler Explorer gives us.</p>
<h3 id="objectives-and-outcomes">Objectives and outcomes</h3>
<table>
<colgroup>
<col style="width: 40%" />
<col style="width: 59%" />
</colgroup>
<thead>
<tr class="header">
<th>Objective (you will develop)</th>
<th>Outcome (you will be able to)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>an appreciation for Compiler Explorer</td>
<td><ul>
<li><em>describe</em> what you can achieve using Compiler Explorer</li>
</ul></td>
</tr>
<tr class="even">
<td>skills in writing simple C++ programs</td>
<td><ul>
<li><em>synthesise</em> a C++ program that writes to standard output</li>
<li><em>describe</em> the contents of a function</li>
</ul></td>
</tr>
</tbody>
</table>
<h3 id="acknowledgements">Acknowledgements</h3>
<p>Thank you to Sy Brand and Hana Dusíková for providing feedback on early drafts of this blog.</p>
<h2 id="c-is-a-compiled-language">C++ is a compiled language</h2>
<p>Computers are only interested in machine code that instructs their circuitry to do the next thing (for some definition of “thing”). We don’t directly understand electricity, so we need some way to communicate with both the computer and other human programmers. This is where code comes in: it’s a medium that humans can be trained to understand, and can be <em>translated</em> to electricity by a computer. There are two main methods of translation: interpretation and compilation.</p>
<p>Interpreters are programs that translate code and execute it at the same time, but the catch is that you always need to have the code and the interpreter on-hand. Python and JavaScript are traditionally <em>interpreted languages</em>.</p>
<p>Compilers are programs that translate code and output a file for later use. If the file is executable, you can run the program without the need for the code or the compiler, but it comes with the trade-off of only being able to run the program on certain computers (e.g. a program that was compiled for Linux cannot run on macOS). C++ and Rust fall into this category, and are known as <em>compiled languages</em>.</p>
<h2 id="hello-compiler-explorer">Hello, Compiler Explorer!</h2>
<p>Let’s start by opening up our editor, <a href="https://godbolt.org/z/cf5fcMKd7">Compiler Explorer</a>. Compiler Explorer is an online tool that many developers use to prototype simple content and see how different compilers process their code. In our case, we’re going to be using it as an off-the-shelf editor that will work on pretty much any computer that isn’t a phone.</p>
<figure>
<img src="images/compiler-explorer-1.webp" width="1400" alt="" /><figcaption>A screenshot showing our Compiler Explorer environment.</figcaption>
</figure>
<p>You should see an empty textbox that takes up about half the screen on the left-hand side of the page, and message in the pane to the right.</p>
<pre><code>Could not execute the program
Compiler returned: 1</code></pre>
<p>Our primary usage of Compiler Explorer in Module 1 will be to write code into the textbox and read the output that the compiler provides.</p>
<p>Compiler Explorer automatically updates as you type, so we don’t need to save any files. This might mean that you’ll often be told that programs are incorrect until you finish typing. To mitigate this, we’ve hidden the compiler output by default. To show the output, there is a button on the right-hand side that says “Compiler output”: simply pressing that button will change the message on the right to show <em>why</em> our program isn’t working.</p>
<pre><code>Could not execute the program
Compiler returned: 1
Compiler stderr

/opt/compiler-explorer/gcc-snapshot/lib/gcc/x86_64-linux-gnu/12.0.0/../../../../x86_64-linux-gnu/bin/ld: /lib/x86_64-linux-gnu/crt1.o: in function `_start&#39;:
(.text+0x24): undefined reference to `main&#39;
clang-14: error: linker command failed with exit code 1 (use -v to see invocation)</code></pre>
<p>In this case, the reason is because we haven’t written any code. Let’s fix that.</p>
<h2 id="the-simplest-c-program">The simplest C++ program</h2>
<p>To make the help message from the previous section go away, we’ll write the simplest possible C++ program into the textbox on the left.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="dt">int</span> main() {}</span></code></pre></div>
<p>After a few seconds, you should notice that the output changes to</p>
<pre><code>Program returned: 0</code></pre>
<p>If you see that output, it means that we were able to successfully run our program. Congratulations! We’ve just written our first C++ program! But what did we do?</p>
<p>This program consists of a global nullary function called <code>main</code><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. The program does nothing.</p>
<p>In C++, programs need what’s known as an <a href="https://en.wikipedia.org/wiki/Entry_point">entry point</a>: that is, a way that the system can interface with our program to start execution. This entry point is always called <code>main</code>, and it always needs to have the return type<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> <code>int</code>. Since the entry point is always known as <code>main</code>, and it’s always required, our tools assume that we’re going to provide it in some fashion. This is why we get that <code>undefined reference to `main'</code> message: the tool is under the impression our program has provided <code>main</code>, but it can’t find it anywhere, and it complains.</p>
<p>Like most modern programming languages, C++ uses parentheses (<code>(</code> and <code>)</code>) to group function parameters. In this case, there aren’t any parameters, so we leave the parentheses empty. We use braces (<code>{</code> and <code>}</code>) to group various other things. Since we don’t have anything to do yet, we leave the braces empty too. C++ is case-sensitive, so if, for example, we change <code>main</code> to <code>Main</code>, then our tools won’t be able to find the entry point any more, and will complain once again.</p>
<h2 id="classic-hello-world">Classic hello world</h2>
<p>Our current program doesn’t do anything useful. A classic hello world program is slightly more interesting than this. Let’s get the following source into Compiler Explorer.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="co">// This is my first meaningful C++ program!</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;fmt/format.h&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="dt">int</span> main()</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>{</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>  fmt::print(<span class="st">&quot;Hello, world!</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a>}</span></code></pre></div>
<p>After a few seconds, you should see the pane on the right now show</p>
<pre><code>Program returned: 0
Program stdout

Hello, world!</code></pre>
<p>The first line starts with <code>//</code>. Two consecutive forward slashes start a comment, which is delimited by the line’s end.</p>
<p>Source files in C++ are bare-bones: that means that most functionality needs to be imported from some library. In this program, we’re writing to standard output, so we need to include an I/O library that gives us the facilities to do that. To import our library, we placed <code>#include &lt;fmt/format.h&gt;</code> at the top of the file. This lets us use the <code>fmt::print</code> function below. If we remove this line, then this appears:</p>
<pre><code>Could not execute the program
Compiler returned: 1
Compiler stderr

&lt;source&gt;:4:3: error: use of undeclared identifier &#39;fmt&#39;
  fmt::print(&quot;Hello, world!\n&quot;);
  ^
1 error generated.</code></pre>
<p>The <code>"Hello, world!\n"</code> enclosed in double quotes (<code>"</code>) is a string literal, where the <code>\n</code> is processed as a line-feed character. In C++, all string literals are enclosed in double quotes, unlike some languages like Python, where you can interchange single quotes (<code>'</code>) and double quotes.</p>
<p><code>fmt::print("Hello, world!\n")</code> is a function call, where our <code>"Hello, world!\n"</code> string literal is passed as a function argument. This call to <code>fmt::print</code> writes the string literal to standard output.</p>
<p>Most statements in C++ end with a semicolon (<code>;</code>). Ending statements with semicolons lets us split them over multiple lines, when they become too long.</p>
<h2 id="feedback">Feedback</h2>
<p>If you’d like to provide feedback regarding this series, please <a href="https://github.com/cjdb/cjdb.github.io/issues">file an issue on GitHub</a>.</p>
<h2 id="summary">Summary</h2>
<p>And that’s a wrap for our first two C++ programs! In this chapter, we learnt:</p>
<ul>
<li>about Compiler Explorer, our editor</li>
<li>that <code>main</code> is a function required for all C++ programs</li>
<li>how to import a library</li>
<li>how to write to standard output</li>
</ul>
<div class="fixed-table">
<div class="table-row-group">
<div class="table-row">
<div class="table-cell">
<a href="applied-modern-cxx-01.html">Previous chapter: Introduction</a>
</div>
<div class="table-cell" style="text-align: right;">
<a href="applied-modern-cxx-03.html">Next chapter: Types, objects, and values</a>
</div>
</div>
</div>
</div>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>A “nullary function” is one that takes zero arguments.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>If you’re not familiar with “return types”, we’ll cover what that means in Chapter 4. For now, assume it means that <code>int</code> always needs to precede <code>main</code>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
            </div>
    </div>
  </div>
  <script src="https://vjs.zencdn.net/5.4.4/video.js"></script>

</body>
</html>
